<div class="bg-image"></div>
<div class="bg-overlay"></div>
<div class="container-fluid vh-100">
  <div class="row h-100">
    <!-- LEFT SIDE IMAGE -->
    <div class="col-md-6 d-none d-md-block p-0 left-image">
      <img src="/Login_Page_Left.png" class="img-fluid h-100 w-100 object-fit-cover" />
    </div>

    <!-- RIGHT SIDE OTP BOX -->
    <div class="col-md-6 d-flex align-items-center justify-content-center">
      <div class="login-box text-center">
        <!-- LOGO -->
        <div class="mb-4">
          <img src="/logo.svg" width="180" />
        </div>

        <h4 class="mb-3">Email Verification</h4>
        <p class="mb-4 text-muted">Enter the 6-digit code sent to your email</p>

        <!-- OTP FORM -->
        <form id="otpForm" [formGroup]="otpForm" (ngSubmit)="verifyOtp()">
          <div class="d-flex justify-content-center gap-2 mb-3">
            @for (i of [0, 1, 2, 3, 4, 5]; track i; let idx = $index) {
              <input
                #otpInput
                type="text"
                maxlength="1"
                class="form-control otp-input text-center"
                [formControlName]="'otp' + idx"
                (input)="onOtpInput($event, idx)"
                (keydown)="onKeyDown($event, idx)"
              />
            }
          </div>

        
          @if (otpForm.errors?.['invalidOtp']) {
            <div class="text-danger">Invalid OTP ‚ùå</div>
          }

          <button type="submit" class="btn btn-primary w-100" [disabled]="otpForm.invalid">
            {{ IsVarify ? 'Please Wait...' : 'Varify Otp' }}
          </button>
        </form>

        <p class="mt-3 text-muted">Didn't receive OTP? <a href="#" id="resendOtp">Resend OTP</a></p>
      </div>
    </div>
  </div>
</div>
